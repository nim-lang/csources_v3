/* Generated by Nim Compiler v2.3.1 */
#define NIM_INTBITS 32
#define NIM_EmulateOverflowChecks
#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_ConfigRefcolonObjectType___KWeA8o66bVo7uX0cQIugmQ tyObject_ConfigRefcolonObjectType___KWeA8o66bVo7uX0cQIugmQ;
typedef struct tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg;
typedef struct tyObject_TType__ovu87YsUa1ANGt6vVxQTnw tyObject_TType__ovu87YsUa1ANGt6vVxQTnw;
typedef struct tyObject_TLineInfo__NbXNNnBEIZ76UALAd0RnmQ tyObject_TLineInfo__NbXNNnBEIZ76UALAd0RnmQ;
typedef struct tyObject_TSym__28oQRSX37sWj59aavVTxbUA tyObject_TSym__28oQRSX37sWj59aavVTxbUA;
typedef struct tyObject_TIdent__un9ccjtt539bmsw80XV2co0w tyObject_TIdent__un9ccjtt539bmsw80XV2co0w;
typedef struct tySequence__7A69ci2GuL2dj4UKdKtVyqw tySequence__7A69ci2GuL2dj4UKdKtVyqw;
typedef struct tySequence__7A69ci2GuL2dj4UKdKtVyqw_Content tySequence__7A69ci2GuL2dj4UKdKtVyqw_Content;
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
struct tyObject_TLineInfo__NbXNNnBEIZ76UALAd0RnmQ {
	NU16 line;
	NI16 col;
	NI32 fileIndex;
};
typedef NU32 tySet_tyEnum_TNodeFlag__n19aX3s10J0sOzf6pZLMnrQ;
typedef NU8 tyEnum_TNodeKind__7uLZ8K9bmfF1GZOQC457StQ;
struct tySequence__7A69ci2GuL2dj4UKdKtVyqw {
	NI len;
	tySequence__7A69ci2GuL2dj4UKdKtVyqw_Content* p;
};
struct tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg {
	tyObject_TType__ovu87YsUa1ANGt6vVxQTnw* typField;
	tyObject_TLineInfo__NbXNNnBEIZ76UALAd0RnmQ info;
	tySet_tyEnum_TNodeFlag__n19aX3s10J0sOzf6pZLMnrQ flags;
	tyEnum_TNodeKind__7uLZ8K9bmfF1GZOQC457StQ kind;
union{
	struct {
	NI64 intVal;
} _kind_1;
	struct {
	NF floatVal;
} _kind_2;
	struct {
	NimStringV2 strVal;
} _kind_3;
	struct {
	tyObject_TSym__28oQRSX37sWj59aavVTxbUA* sym;
} _kind_4;
	struct {
	tyObject_TIdent__un9ccjtt539bmsw80XV2co0w* ident;
} _kind_5;
	struct {
	tySequence__7A69ci2GuL2dj4UKdKtVyqw sons;
} _kind_6;
};
};
typedef NU8 tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ;
typedef NU16 tySet_tyEnum_TRenderFlag__I3S1IuWfpw7AObGFigfGvA;
typedef NU8 tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw;
typedef NimStringV2 tyArray__24KAM9afIUgUaqBaEBB6r9bg[3];
struct tySequence__7A69ci2GuL2dj4UKdKtVyqw_Content {
	NI cap;
	tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* data[SEQ_DECL_SIZE];
};
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___ast_u3256)(tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg** dest_p0, tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* src_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatSingleElem)(NimStringV2 formatstr_p0, NimStringV2 a_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, renderTree__renderer_u59)(tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* n_p0, tySet_tyEnum_TRenderFlag__I3S1IuWfpw7AObGFigfGvA renderFlags_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_u2624)(NimStringV2 dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_u2627)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___ast_u4578)(tyObject_TSym__28oQRSX37sWj59aavVTxbUA** dest_p0, tyObject_TSym__28oQRSX37sWj59aavVTxbUA* src_p1);
static N_INLINE(NI, len__ast_u3191)(tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* n_p0);
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1);
static N_INLINE(void, copyMem__system_u1724)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s_p0, NI addLen_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, typeToString__types_u54)(tyObject_TType__ovu87YsUa1ANGt6vVxQTnw* typ_p0, tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw prefer_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatOpenArray)(NimStringV2 formatstr_p0, NimStringV2* a_p1, NI a_p1Len_0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getProcHeader__types_u213)(tyObject_ConfigRefcolonObjectType___KWeA8o66bVo7uX0cQIugmQ* conf_p0, tyObject_TSym__28oQRSX37sWj59aavVTxbUA* sym_p1, tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw prefer_p2, NIM_BOOL getDeclarationPath_p3);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___ast_u4575)(tyObject_TSym__28oQRSX37sWj59aavVTxbUA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___ast_u3253)(tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* dest_p0);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static const struct {
	NI cap;
	NIM_CHAR data[14];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_2 = {(13 | NIM_STRLIT_FLAG), "type mismatch"};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_3 = {13, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_2))};
static const struct {
	NI cap;
	NIM_CHAR data[33];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_4 = {(32 | NIM_STRLIT_FLAG), "expression \'$1\' cannot be called"};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_5 = {32, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_4))};
static const struct {
	NI cap;
	NIM_CHAR data[26];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_6 = {(25 | NIM_STRLIT_FLAG), "wrong number of arguments"};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_7 = {25, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_6))};
static const struct {
	NI cap;
	NIM_CHAR data[2];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_8 = {(1 | NIM_STRLIT_FLAG), "("};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_9 = {1, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_8))};
static const struct {
	NI cap;
	NIM_CHAR data[3];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_10 = {(2 | NIM_STRLIT_FLAG), ", "};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_11 = {2, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_10))};
static const struct {
	NI cap;
	NIM_CHAR data[2];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_12 = {(1 | NIM_STRLIT_FLAG), ")"};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_13 = {1, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_12))};
static const struct {
	NI cap;
	NIM_CHAR data[45];
} TM__NsPKjREfpp5Tqi9bANLLP9aw_14 = {(44 | NIM_STRLIT_FLAG), "ambiguous call; both $1 and $2 match for: $3"};
static const NimStringV2 TM__NsPKjREfpp5Tqi9bANLLP9aw_15 = {44, ((NimStrPayload*) (&TM__NsPKjREfpp5Tqi9bANLLP9aw_14))};
extern NIM_BOOL nimInErrorMode__system_u4211;
static N_INLINE(NI, len__ast_u3191)(tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* n_p0) {
	NI result;
NI T1_;
T1_ = (*n_p0)._kind_6.sons.len;
result = T1_;
	return result;
}

static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
T1_ = ((void*) 0);
T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}

static N_INLINE(void, copyMem__system_u1724)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}

static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1) {
	{
	if ((!((((NI) 0) < src_p1.len)))) {
	goto LA3_;
}
copyMem__system_u1724(((void*) (((&(*(*dest_p0).p).data[(*dest_p0).len])))), ((void*) (((&(*src_p1.p).data[((NI) 0)])))), (src_p1.len));
(*dest_p0).len += src_p1.len;
(*(*dest_p0).p).data[(*dest_p0).len] = 0;
}
LA3_: ;
}

static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
result = ((&nimInErrorMode__system_u4211));
	return result;
}

N_LIB_PRIVATE N_NIMCALL(NimStringV2, errorToString__errorhandling_u83)(tyObject_ConfigRefcolonObjectType___KWeA8o66bVo7uX0cQIugmQ* config_p0, tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* n_p1) {
	NimStringV2 result;
tyObject_TNode__FbBYfERj9cP0YMBw9cPxu9bQg* wrongNode_1;
NIM_BOOL oldNimErrFin11_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{
		nimErr_ = nimErrorFlag();
result.len = 0;
result.p = NIM_NIL;
wrongNode_1 = NIM_NIL;
eqcopy___ast_u3256((&wrongNode_1), ((*n_p1)._kind_6.sons).p->data[((NI) 0)]);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA1_;
}
switch (((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) ((*((*n_p1)._kind_6.sons).p->data[((NI) 1)])._kind_1.intVal))) {
case ((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) 0):
	{
		result = TM__NsPKjREfpp5Tqi9bANLLP9aw_3;
}
	break;

case ((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) 1):
	{
		NimStringV2 colontmpD_;
tySet_tyEnum_TRenderFlag__I3S1IuWfpw7AObGFigfGvA T5_;
colontmpD_.len = 0;
colontmpD_.p = NIM_NIL;
T5_ = 0;
colontmpD_ = renderTree__renderer_u59(((*wrongNode_1)._kind_6.sons).p->data[((NI) 0)], T5_);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA4_;
}
result = nsuFormatSingleElem(TM__NsPKjREfpp5Tqi9bANLLP9aw_5, colontmpD_);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA4_;
}
{
	LA4_: ;
}
{
	eqdestroy___system_u2624(colontmpD_);
}
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA1_;
}
}
	break;

case ((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) 2):
	{
		eqcopy___system_u2627(((&result)), (*((*n_p1)._kind_6.sons).p->data[((NI) 2)])._kind_3.strVal);
}
	break;

case ((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) 3):
	{
		result = TM__NsPKjREfpp5Tqi9bANLLP9aw_7;
}
	break;

case ((tyEnum_ErrorKind__RREkeVo69bG2T6WgSKEDCEQ) 4):
	{
		tyObject_TSym__28oQRSX37sWj59aavVTxbUA* a_1;
tyObject_TSym__28oQRSX37sWj59aavVTxbUA* b_1;
NimStringV2 args_1;
NimStringV2 colontmpD__2;
NimStringV2 colontmpD__3;
tyArray__24KAM9afIUgUaqBaEBB6r9bg T22_;
a_1 = NIM_NIL;
b_1 = NIM_NIL;
args_1.len = 0;
args_1.p = NIM_NIL;
colontmpD__2.len = 0;
colontmpD__2.p = NIM_NIL;
colontmpD__3.len = 0;
colontmpD__3.p = NIM_NIL;
eqcopy___ast_u4578((&a_1), (*((*n_p1)._kind_6.sons).p->data[((NI) 2)])._kind_4.sym);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
eqcopy___ast_u4578((&b_1), (*((*n_p1)._kind_6.sons).p->data[((NI) 3)])._kind_4.sym);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
args_1 = TM__NsPKjREfpp5Tqi9bANLLP9aw_9;
{
	NI i_1;
NI colontmp_;
NI i_2;
i_1 = ((NI) 0);
colontmp_ = ((NI) 0);
colontmp_ = len__ast_u3191(wrongNode_1);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
i_2 = ((NI) 1);
{
	while (1) {
	NimStringV2 colontmpD__4;
if ((!((i_2 < colontmp_)))) {
	goto LA14;
}
colontmpD__4.len = 0;
colontmpD__4.p = NIM_NIL;
i_1 = i_2;
{
	if ((!((((NI) 1) < i_1)))) {
	goto LA18_;
}
prepareAdd(((&args_1)), 2);
appendString(((&args_1)), TM__NsPKjREfpp5Tqi9bANLLP9aw_11);
}
LA18_: ;
colontmpD__4 = typeToString__types_u54((*((*wrongNode_1)._kind_6.sons).p->data[i_1]).typField, ((tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw) 0));
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA15_;
}
prepareAdd(((&args_1)), (0 + colontmpD__4.len));
appendString(((&args_1)), colontmpD__4);
i_2 += ((NI) 1);
{
	LA15_: ;
}
{
	eqdestroy___system_u2624(colontmpD__4);
}
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
}
LA14: ;
}
}
prepareAdd(((&args_1)), 1);
appendString(((&args_1)), TM__NsPKjREfpp5Tqi9bANLLP9aw_13);
colontmpD__2 = getProcHeader__types_u213(config_p0, a_1, ((tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw) 0), NIM_TRUE);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
T22_[0] = colontmpD__2;
colontmpD__3 = getProcHeader__types_u213(config_p0, b_1, ((tyEnum_TPreferedDesc__hB3CQP39aC0d0LcNCa58zAw) 0), NIM_TRUE);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
T22_[1] = colontmpD__3;
T22_[2] = args_1;
result = nsuFormatOpenArray(TM__NsPKjREfpp5Tqi9bANLLP9aw_15, T22_, 3);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA11_;
}
{
	LA11_: ;
}
{
	oldNimErrFin11_ = (*nimErr_);
(*nimErr_) = NIM_FALSE;
eqdestroy___system_u2624(colontmpD__3);
eqdestroy___system_u2624(colontmpD__2);
eqdestroy___system_u2624(args_1);
eqdestroy___ast_u4575(b_1);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA1_;
}
eqdestroy___ast_u4575(a_1);
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA1_;
}
(*nimErr_) = oldNimErrFin11_;
}
if (NIM_UNLIKELY((*nimErr_))) {
	goto LA1_;
}
}
	break;

default:
	__builtin_unreachable();

}
{
	LA1_: ;
}
{
	oldNimErrFin1_ = (*nimErr_);
(*nimErr_) = NIM_FALSE;
eqdestroy___ast_u3253(wrongNode_1);
if (NIM_UNLIKELY((*nimErr_))) {
	goto BeforeRet_;
}
(*nimErr_) = oldNimErrFin1_;
}
if (NIM_UNLIKELY((*nimErr_))) {
	goto BeforeRet_;
}
}
	BeforeRet_: ;
		return result;
}

